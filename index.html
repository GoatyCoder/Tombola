<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tombola Nojana</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script defer src="script.js"></script>
  </head>
  <body>
    <header class="app-header" role="banner">
      <div class="header-shell">
        <div class="header-brand">
          <div class="header-brand__badge" aria-hidden="true">
            <img
              src="images/logo_amicidelteatro.svg"
              alt="Amici del Teatro - Associazione Culturale Nojana"
              class="header-brand__logo"
              loading="lazy"
              decoding="async"
            />
            <span class="header-brand__presenter">presenta</span>
          </div>
          <div class="header-brand__content">
            <h1 class="header-brand__title">Tombola Nojana</h1>
            <p class="header-brand__lead">
              La smorfia nojana diventa interattiva: estrai i numeri, ascolta le
              voci e tieni la tombolata della città sempre sotto controllo.
            </p>
            <ul class="header-brand__highlights" aria-label="Funzionalità principali">
              <li>Cronologia rapida su mobile e desktop</li>
              <li>Tabellone illustrato pronto per ogni estrazione</li>
              <li>Audio in nojano e italiano sempre disponibili</li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <main class="app-main" aria-label="Tabellone principale">
      <section class="board-panel">
        <header class="board-panel__head">
          <div class="board-panel__summary">
            <h2 class="sr-only">Controllo estrazioni</h2>
            <div class="board-summary" role="status" aria-live="polite">
              <span id="draw-status" class="sr-only">Caricamento del tabellone…</span>
              <article class="board-summary__card board-summary__card--last">
                <header class="board-summary__header">
                  <p class="board-summary__label">Ultimo numero</p>
                </header>
                <p
                  id="draw-last-number"
                  class="board-summary__number"
                  aria-live="polite"
                  aria-atomic="true"
                >
                  —
                </p>
                <p id="draw-last-detail" class="board-summary__detail">
                  In attesa della prima estrazione
                </p>
              </article>
              <article class="board-summary__card board-summary__card--progress">
                <header class="board-summary__header">
                  <p class="board-summary__label">Numeri estratti</p>
                  <button
                    type="button"
                    id="history-toggle"
                    class="history-toggle"
                    aria-expanded="false"
                    aria-controls="history-panel"
                    data-label-mobile-open="Chiudi cronologia"
                    data-label-mobile-closed="Cronologia"
                    data-label-desktop="Cronologia"
                    aria-label="Cronologia"
                    title="Cronologia"
                  >
                    <svg
                      class="history-toggle__icon"
                      viewBox="0 0 24 24"
                      role="presentation"
                      aria-hidden="true"
                    >
                      <path
                        d="M5.75 4.5h12.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H5.75a.75.75 0 0 1-.75-.75V5.25a.75.75 0 0 1 .75-.75Z"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path
                        d="M8 7h8m-8 4h8m-8 4h5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    <span class="history-toggle__label" data-history-label>
                      Cronologia
                    </span>
                  </button>
                </header>
                <div class="board-summary__stat">
                  <p id="draw-progress-value" class="board-summary__metric">0/0</p>
                  <div
                    id="draw-progress-bar"
                    class="board-summary__progress"
                    role="progressbar"
                    aria-valuemin="0"
                    aria-valuemax="0"
                    aria-valuenow="0"
                  >
                    <span
                      class="board-summary__progress-fill"
                      id="draw-progress-fill"
                      style="width: 0%"
                    ></span>
                  </div>
                </div>
                <div class="board-summary__actions">
                  <button
                    type="button"
                    id="draw-button"
                    class="board-panel__draw"
                    disabled
                  >
                    Estrai numero
                  </button>
                  <button
                    type="button"
                    id="reset-button"
                    class="board-panel__reset"
                    disabled
                  >
                    Reset partita
                  </button>
                </div>
              </article>
            </div>
          </div>
        </header>
        <div class="board-panel__body">
          <div class="board-layout">
            <div class="board-layout__grid">
              <div id="board" class="board-grid" aria-live="polite"></div>
            </div>
            <aside
              id="history-panel"
              class="history-panel"
              aria-label="Cronologia estrazioni"
              aria-hidden="false"
              tabindex="-1"
            >
              <header class="history-panel__header">
                <h3>Cronologia</h3>
                <p class="history-panel__subtitle">
                  Tieni d'occhio l'ordine di uscita dei numeri.
                </p>
              </header>
              <p class="history-panel__empty" id="draw-history-empty">
                Nessun numero estratto finora.
              </p>
              <ol class="history-list" id="draw-history" aria-live="polite"></ol>
            </aside>
          </div>
        </div>
      </section>
      <section
        class="sponsor-section"
        id="sponsor-showcase"
        hidden
        aria-hidden="true"
      >
        <div class="sponsor-section__shell">
          <header class="sponsor-section__intro">
            <p class="sponsor-section__eyebrow">Sponsor e partner</p>
            <p class="sponsor-section__subtitle">
              Un ringraziamento speciale a chi ci aiuta a portare la tradizione in
              ogni casa.
            </p>
          </header>
          <div
            class="sponsor-strip"
            id="sponsor-showcase-list"
            role="list"
          ></div>
        </div>
      </section>
    </main>

    <div
      id="history-scrim"
      class="history-scrim"
      hidden
      aria-hidden="true"
    ></div>

    <div id="draw-portal" class="draw-portal" aria-hidden="true" hidden>
      <div class="draw-portal__scrim" aria-hidden="true"></div>
      <div class="draw-portal__wrapper" role="status" aria-live="assertive">
        <div class="draw-portal__orbits" aria-hidden="true">
          <span class="draw-portal__orbit draw-portal__orbit--primary"></span>
          <span class="draw-portal__orbit draw-portal__orbit--secondary"></span>
          <span class="draw-portal__spark draw-portal__spark--one"></span>
          <span class="draw-portal__spark draw-portal__spark--two"></span>
        </div>
        <div class="draw-portal__ball" id="draw-animation-ball" aria-hidden="true">
          <span class="draw-portal__loader" id="draw-portal-loader" aria-hidden="true">
            <span class="draw-portal__loader-dot"></span>
            <span class="draw-portal__loader-dot"></span>
            <span class="draw-portal__loader-dot"></span>
          </span>
          <span id="draw-animation-number" class="draw-portal__number"></span>
        </div>
        <p class="draw-portal__caption" id="draw-animation-label">
          Estrazione in corso...
        </p>
        <div id="draw-sponsor-block" class="draw-portal__sponsor-block" hidden>
          <p id="draw-sponsor-heading" class="draw-portal__sponsor-heading">
            In collaborazione con
          </p>
          <a
            id="draw-sponsor"
            class="draw-portal__sponsor-link"
            href="#"
            target="_blank"
            rel="noopener noreferrer"
          >
            <img id="draw-sponsor-logo" alt="" decoding="async" />
          </a>
        </div>
      </div>
    </div>

    <div
      id="number-modal"
      class="modal"
      role="dialog"
      aria-modal="true"
      aria-labelledby="modal-number"
      hidden
    >
      <div class="number-dialog" role="document">
        <header class="number-dialog__header">
          <p id="modal-number" class="number-dialog__number"></p>
          <button
            type="button"
            class="number-dialog__close"
            aria-label="Chiudi"
            id="modal-close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </header>
        <div class="number-dialog__body">
          <div class="number-dialog__visual">
            <div class="number-dialog__image-frame" id="modal-image-frame">
              <div class="number-dialog__image-placeholder" aria-hidden="true">
                <span class="number-dialog__placeholder-glow"></span>
              </div>
              <img id="modal-image" alt="" decoding="async" loading="lazy" />
            </div>
          </div>
          <div class="number-dialog__details">
            <div class="number-dialog__phrases">
              <article class="number-dialog__phrase number-dialog__phrase--dialect">
                <h3 class="number-dialog__phrase-title">Nojano</h3>
                <div class="number-dialog__text-row">
                  <p
                    id="modal-dialect"
                    class="number-dialog__text number-dialog__text--dialect"
                  ></p>
                  <button
                    type="button"
                    class="number-dialog__play"
                    id="modal-dialect-play"
                    aria-label="Ascolta pronuncia in nojano"
                  >
                    <span aria-hidden="true"></span>
                  </button>
                </div>
              </article>
              <article class="number-dialog__phrase number-dialog__phrase--italian">
                <h3 class="number-dialog__phrase-title">Italiano</h3>
                <div class="number-dialog__text-row">
                  <p
                    id="modal-italian"
                    class="number-dialog__text number-dialog__text--italian"
                  ></p>
                  <button
                    type="button"
                    class="number-dialog__play number-dialog__play--secondary"
                    id="modal-italian-play"
                    aria-label="Ascolta pronuncia in italiano"
                  >
                    <span aria-hidden="true"></span>
                  </button>
                </div>
              </article>
            </div>
            <div class="number-dialog__actions">
              <button type="button" class="number-dialog__action" id="modal-next" hidden>
                Estrai successivo
              </button>
              <button
                type="button"
                class="number-dialog__action number-dialog__action--secondary"
                id="modal-close-secondary"
              >
                Chiudi
              </button>
            </div>
            <footer class="number-dialog__footer">
              <div id="modal-sponsor-block" class="number-dialog__sponsor" hidden>
                <p id="modal-sponsor-heading" class="number-dialog__sponsor-heading">
                  In collaborazione con
                </p>
                <a
                  id="modal-sponsor"
                  class="number-dialog__sponsor-link"
                  href="#"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img id="modal-sponsor-logo" alt="" decoding="async" loading="lazy" />
                </a>
              </div>
            </footer>
          </div>
        </div>
      </div>
    </div>

    <template id="board-cell-template">
      <button class="board-cell" type="button">
        <span class="board-cell__artwork" aria-hidden="true"></span>
        <span class="board-cell__label">
          <span class="board-cell__number" aria-hidden="true"></span>
          <span class="board-cell__name" data-board-cell-name></span>
        </span>
      </button>
    </template>

    <footer class="app-footer" role="contentinfo">
      <div class="app-footer__shell">
        <div class="app-footer__brand">
          <img
            src="images/logo_amicidelteatro_big.svg"
            alt="Associazione Culturale Amici del Teatro di Noicattaro"
            class="app-footer__brand-logo"
            loading="lazy"
            decoding="async"
          />
          <div class="app-footer__intro">
            <p class="app-footer__title">Tombola Nojana</p>
            <p class="app-footer__description">
              Una serata tradizionale rivista in chiave digitale per stare
              insieme, anche a distanza.
            </p>
          </div>
        </div>
        <div class="app-footer__meta">
          <p class="app-footer__label">Powered by</p>
          <a
            class="app-footer__meta-link"
            href="mailto:GoatyCoder@proton.me"
            aria-label="Contatta GoatyCoder via email"
          >
            <img
              src="images/logo_goty_coder.png"
              alt="GoatyCoder"
              class="app-footer__meta-logo"
              decoding="async"
              loading="lazy"
            />
          </a>
        </div>
      </div>
    </footer>

    <div class="board-panel__floating-controls" role="presentation">
      <button
        type="button"
        id="floating-draw-button"
        class="board-panel__floating-button board-panel__floating-draw"
        aria-label="Estrai numero"
        title="Estrai numero"
        data-tooltip="Estrai numero"
        disabled
      >
        <svg
          class="board-panel__floating-draw-icon"
          viewBox="0 0 24 24"
          role="presentation"
          aria-hidden="true"
        >
          <rect
            class="board-panel__floating-draw-icon-base"
            x="4.5"
            y="4.5"
            width="15"
            height="15"
            rx="3.5"
            ry="3.5"
          />
          <circle
            class="board-panel__floating-draw-icon-pip"
            cx="9.5"
            cy="9.5"
            r="1.35"
          />
          <circle
            class="board-panel__floating-draw-icon-pip"
            cx="14.5"
            cy="14.5"
            r="1.35"
          />
          <circle
            class="board-panel__floating-draw-icon-pip"
            cx="14.5"
            cy="9.5"
            r="1.35"
          />
          <circle
            class="board-panel__floating-draw-icon-pip"
            cx="9.5"
            cy="14.5"
            r="1.35"
          />
          <circle
            class="board-panel__floating-draw-icon-pip"
            cx="12"
            cy="12"
            r="1.35"
          />
        </svg>
        <span class="sr-only" data-floating-draw-sr>Estrai numero</span>
      </button>
      <button
        type="button"
        id="audio-toggle"
        class="board-panel__audio-toggle board-panel__audio-toggle--on board-panel__floating-button audio-fab"
        aria-pressed="true"
        aria-label="Disattiva annuncio audio"
        title="Disattiva annuncio audio"
        data-tooltip="Disattiva annuncio audio"
      >
        <span class="sr-only" data-audio-label>Audio attivo</span>
        <svg
          class="board-panel__audio-icon"
          viewBox="0 0 24 24"
          role="presentation"
          aria-hidden="true"
        >
          <path
            class="board-panel__audio-speaker"
            d="M5.5 9.5H8l3.5-3.5v12L8 14.5H5.5a1.5 1.5 0 0 1-1.5-1.5v-2a1.5 1.5 0 0 1 1.5-1.5Z"
          />
          <path
            class="board-panel__audio-wave"
            d="M15.5 9.5a3 3 0 0 1 0 5"
          />
          <path
            class="board-panel__audio-wave board-panel__audio-wave--strong"
            d="M17.8 7.8a6 6 0 0 1 0 8.5"
          />
          <path
            class="board-panel__audio-cross"
            d="M16 9l5 5m0-5-5 5"
          />
        </svg>
      </button>
    </div>

  </body>
</html>
