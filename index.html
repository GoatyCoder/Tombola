<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tombola Nojana</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Figtree:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script defer src="script.js"></script>
  </head>
  <body>
    <div class="app">
      <header class="app-header" role="banner">
        <div class="app-header__brand">
          <span class="app-header__mark" aria-hidden="true">TN</span>
          <div class="app-header__text">
            <p class="app-header__kicker">Tombola nojano</p>
            <h1 class="app-header__title">Tabellone digitale</h1>
          </div>
        </div>
        <button
          id="audio-toggle"
          class="pill pill--ghost"
          type="button"
          aria-pressed="true"
        >
          Audio attivo
        </button>
      </header>

      <main class="main" aria-label="Tabellone della tombola">
        <section class="board-area" aria-labelledby="board-title">
          <div class="board-area__top">
            <div>
              <p class="board-area__eyebrow">Tabellone</p>
              <h2 id="board-title" class="board-area__title">
                La tombolata illustrata
              </h2>
            </div>
            <div class="board-area__progress" role="status" aria-live="polite">
              <span id="progress-count" class="board-area__progress-count">0/90</span>
              <div
                class="progress"
                role="progressbar"
                aria-valuemin="0"
                aria-valuemax="90"
                aria-valuenow="0"
              >
                <span id="progress-bar" class="progress__fill" style="width: 0%"></span>
              </div>
            </div>
          </div>
          <div class="board-area__frame">
            <div id="board" class="board-grid" role="grid" aria-live="polite"></div>
          </div>
        </section>

        <section class="panel" aria-label="Dettagli e controlli">
          <article class="summary-card" role="status" aria-live="polite">
            <div class="summary-card__body">
              <p class="summary-card__label">Ultimo numero</p>
              <p id="last-number" class="summary-card__number">—</p>
              <p id="last-italian" class="summary-card__title">Inizia la partita</p>
              <p id="last-dialect" class="summary-card__subtitle">
                Premi “Estrai numero” per avviare la tombolata.
              </p>
            </div>
            <div class="summary-card__media">
              <img
                id="summary-image"
                src="images/sample.jpg"
                alt="Illustrazione della casella"
                loading="lazy"
                decoding="async"
              />
            </div>
          </article>

          <div class="panel__actions" role="group" aria-label="Comandi partita">
            <button id="draw-button" class="pill pill--primary" type="button" disabled>
              Estrai numero
            </button>
            <button id="reset-button" class="pill pill--outline" type="button" disabled>
              Nuova partita
            </button>
          </div>

          <section class="history" aria-labelledby="history-title">
            <div class="history__header">
              <h2 id="history-title">Cronologia</h2>
              <button id="history-clear" class="history__clear" type="button" disabled>
                Azzera
              </button>
            </div>
            <p id="history-empty" class="history__empty">Nessun numero estratto finora.</p>
            <ol id="history-list" class="history__list" aria-live="polite"></ol>
          </section>
        </section>
      </main>

      <section class="sponsor" id="sponsor-section" hidden aria-hidden="true">
        <div class="sponsor__header">
          <h2 class="sponsor__title">Con il supporto di</h2>
          <p class="sponsor__subtitle">
            Le realtà che rendono possibile la tombolata digitale.
          </p>
        </div>
        <div id="sponsor-list" class="sponsor__list" role="list"></div>
      </section>

      <footer class="app-footer" role="contentinfo">
        <div class="app-footer__brand">
          <p class="app-footer__title">Tombola Nojana</p>
          <p class="app-footer__text">
            Un progetto dell'Associazione Culturale Amici del Teatro di Noicattaro.
          </p>
        </div>
        <div class="app-footer__credits">
          <span class="app-footer__label">Design &amp; sviluppo</span>
          <a
            class="app-footer__link"
            href="mailto:GoatyCoder@proton.me"
            aria-label="Scrivi a GoatyCoder"
          >
            <img src="images/GoatyCoder_Logo.png" alt="GoatyCoder" loading="lazy" />
          </a>
        </div>
      </footer>
    </div>

    <template id="board-cell-template">
      <button class="board-tile" type="button" data-number>
        <img
          class="board-tile__image"
          src="images/sample.jpg"
          alt="Illustrazione decorativa della casella"
          loading="lazy"
          decoding="async"
        />
        <span class="board-tile__overlay" aria-hidden="true"></span>
      </button>
    </template>

    <dialog
      id="detail-dialog"
      class="detail-dialog"
      aria-labelledby="detail-title"
      aria-modal="true"
    >
      <div class="detail-dialog__surface" role="document">
        <button
          id="detail-close"
          type="button"
          class="detail-dialog__close"
          aria-label="Chiudi"
        >
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="detail-dialog__image">
          <img
            id="detail-image"
            src="images/sample.jpg"
            alt="Illustrazione della casella"
            loading="lazy"
          />
          <span id="detail-number" class="detail-dialog__badge"></span>
        </div>
        <div class="detail-dialog__body">
          <h2 id="detail-title" class="detail-dialog__title"></h2>
          <p id="detail-dialect" class="detail-dialog__dialect"></p>
          <p id="detail-description" class="detail-dialog__description"></p>
          <div class="detail-dialog__actions">
            <button id="detail-dismiss" type="button" class="pill pill--ghost">
              Chiudi
            </button>
            <button id="detail-next" type="button" class="pill pill--primary">
              Estrai il prossimo
            </button>
          </div>
        </div>
      </div>
    </dialog>
  </body>
</html>
