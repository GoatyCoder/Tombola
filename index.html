<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tombola Nojana</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Figtree:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script defer src="script.js"></script>
  </head>
  <body>
    <div class="app">
      <header class="app-header" role="banner">
        <div class="app-header__brand">
          <span class="app-header__mark" aria-hidden="true">TN</span>
          <div class="app-header__text">
            <p class="app-header__kicker">Tombola nojano</p>
            <h1 class="app-header__title">Tabellone digitale</h1>
          </div>
        </div>
      </header>

      <main class="main" aria-label="Tabellone della tombola">
        <section class="board-area" aria-labelledby="board-title">
          <div class="board-area__top">
            <div>
              <p class="board-area__eyebrow">Tabellone</p>
              <h2 id="board-title" class="board-area__title">
                La tombolata illustrata
              </h2>
            </div>
            <div class="board-area__progress" role="status" aria-live="polite">
              <span id="progress-count" class="board-area__progress-count">0/90</span>
              <div
                class="progress"
                role="progressbar"
                aria-valuemin="0"
                aria-valuemax="90"
                aria-valuenow="0"
              >
                <span id="progress-bar" class="progress__fill" style="width: 0%"></span>
              </div>
            </div>
          </div>
          <div class="board-area__frame">
            <div id="board" class="board-grid" role="grid" aria-live="polite"></div>
          </div>
        </section>

        <section class="panel" aria-label="Dettagli e controlli">
          <article class="summary-card" role="status" aria-live="polite">
            <div class="summary-card__body">
              <p class="summary-card__label">Ultimo numero</p>
              <p id="last-number" class="summary-card__number">—</p>
              <p id="last-status" class="summary-card__status">
                Premi “Estrai numero” per avviare la tombolata.
              </p>
            </div>
            <div class="summary-card__media">
              <img
                id="summary-image"
                src="images/sample.jpg"
                alt="Illustrazione della casella"
                loading="lazy"
                decoding="async"
              />
            </div>
          </article>

          <div class="panel__actions" role="group" aria-label="Comandi partita">
            <button id="draw-button" class="pill pill--primary" type="button" disabled>
              Estrai numero
            </button>
            <button id="reset-button" class="pill pill--outline" type="button" disabled>
              Nuova partita
            </button>
          </div>

          <section class="history" aria-labelledby="history-title">
            <div class="history__header">
              <h2 id="history-title">Cronologia</h2>
              <button id="history-clear" class="history__clear" type="button" disabled>
                Azzera
              </button>
            </div>
            <p id="history-empty" class="history__empty">Nessun numero estratto finora.</p>
            <ol id="history-list" class="history__list" aria-live="polite"></ol>
          </section>
        </section>
      </main>

      <section class="sponsor" id="sponsor-section" hidden aria-hidden="true">
        <div class="sponsor__header">
          <h2 class="sponsor__title">Con il supporto di</h2>
          <p class="sponsor__subtitle">
            Le realtà che rendono possibile la tombolata digitale.
          </p>
        </div>
        <div id="sponsor-list" class="sponsor__list" role="list"></div>
      </section>

      <footer class="app-footer" role="contentinfo">
        <div class="app-footer__brand">
          <p class="app-footer__title">Tombola Nojana</p>
          <p class="app-footer__text">
            Un progetto dell'Associazione Culturale Amici del Teatro di Noicattaro.
          </p>
        </div>
        <div class="app-footer__credits">
          <span class="app-footer__label">Design &amp; sviluppo</span>
          <a
            class="app-footer__link"
            href="mailto:GoatyCoder@proton.me"
            aria-label="Scrivi a GoatyCoder"
          >
            <img src="images/GoatyCoder_Logo.png" alt="GoatyCoder" loading="lazy" />
          </a>
        </div>
      </footer>
    </div>

    <template id="board-cell-template">
      <button class="board-tile" type="button" data-number>
        <img
          class="board-tile__image"
          src="images/sample.jpg"
          alt="Illustrazione decorativa della casella"
          loading="lazy"
          decoding="async"
        />
        <span class="board-tile__overlay" aria-hidden="true"></span>
      </button>
    </template>

    <dialog id="detail-dialog" class="detail-dialog" aria-label="Numero estratto" aria-modal="true">
      <div class="detail-dialog__surface" role="document">
        <button
          id="detail-close"
          type="button"
          class="detail-dialog__close"
          aria-label="Chiudi"
        >
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="detail-dialog__image">
          <img
            id="detail-image"
            src="images/sample.jpg"
            alt="Illustrazione della casella"
            loading="lazy"
          />
        </div>
        <div class="detail-dialog__body">
          <div id="detail-sponsor" class="detail-dialog__sponsor" hidden>
            <p class="detail-dialog__sponsor-label">Con il supporto di</p>
            <a
              id="detail-sponsor-link"
              class="detail-dialog__sponsor-link"
              href="#"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img
                id="detail-sponsor-logo"
                src=""
                alt="Logo sponsor"
                loading="lazy"
                decoding="async"
              />
            </a>
          </div>
          <div class="detail-dialog__actions">
            <button id="detail-next" type="button" class="pill pill--primary">
              Estrai il prossimo
            </button>
          </div>
        </div>
      </div>
    </dialog>

    <div class="floating-actions" role="region" aria-label="Azioni rapide">
      <button
        id="floating-audio"
        class="fab fab--audio"
        type="button"
        aria-pressed="true"
        aria-label="Disattiva audio"
        title="Disattiva audio"
      >
        <svg aria-hidden="true" viewBox="0 0 32 32" focusable="false">
          <path
            d="M18 5.3a2 2 0 0 0-2.1.2L11.1 10H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h4.1l4.8 4.5A2 2 0 0 0 19 25V7a2 2 0 0 0-1-1.7Z"
            fill="currentColor"
          />
          <path
            d="M22.3 9.7a1 1 0 0 0-1.4 1.4 6 6 0 0 1 0 8.5 1 1 0 1 0 1.4 1.4 8 8 0 0 0 0-11.3ZM24.8 7.2a1 1 0 0 0-1.4 1.4 9.8 9.8 0 0 1 0 13.8 1 1 0 1 0 1.4 1.4 11.8 11.8 0 0 0 0-16.6Z"
            fill="currentColor"
          />
        </svg>
      </button>
      <button
        id="floating-draw"
        class="fab fab--draw"
        type="button"
        aria-label="Estrai numero"
        title="Estrai numero"
        disabled
      >
        <svg aria-hidden="true" viewBox="0 0 32 32" focusable="false">
          <rect x="6" y="6" width="20" height="20" rx="6" fill="currentColor" />
          <circle cx="12" cy="12" r="2" fill="#fff7ef" />
          <circle cx="20" cy="20" r="2" fill="#fff7ef" />
          <circle cx="20" cy="12" r="2" fill="#fff7ef" />
          <circle cx="12" cy="20" r="2" fill="#fff7ef" />
          <circle cx="16" cy="16" r="2" fill="#fff7ef" />
        </svg>
      </button>
    </div>
  </body>
</html>
